/**
 *  _                    _  __  __     _______  _
 * | |                  | ||  \/  |   |__   __|| |
 * | |  ___    __ _   __| || \  / |  ___ | |   | |__    ___  _ __  ___
 * | | / _ \  / _` | / _` || |\/| | / _ \| |   | '_ \  / _ \| '__|/ _ \
 * | || (_) || (_| || (_| || |  | ||  __/| |   | | | ||  __/| |  |  __/
 * |_| \___/  \__,_| \__,_||_|  |_| \___||_|   |_| |_| \___||_|   \___|
 *
 * @source: https://github.com/WebDevels-de/loadmethere
 *
 * @licstart  The following is the entire license notice for the
 *  JavaScript code in this page.
 *
 * Copyright (C) 2019  Fatih GÃ¼rsu, WebDevels (https://webdevels.de)
 *
 *
 * The JavaScript code in this page is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
 *
 *
 * @licend  The above is the entire license notice
 * for the JavaScript code in this page.
 *
 */
function loadMeThere(requestURL,targetContainer,position,scrollToTarget,disableCustomElement,disableAnyLMT,animationTime=600,scrollToTargetOffset=0){var availablePositions=["before","prepend","in","append","after","as","modal"];if(null==requestURL)return console.error("Missing: URL"),!1;if(null==targetContainer)return console.error("Missing: targetContainer"),!1;null!=position&&0!=availablePositions.includes(position)||(position="in"),null==scrollToTarget&&(scrollToTarget=!1),null==disableAnyLMT&&(disableAnyLMT=!0),null==disableCustomElement&&(disableCustomElement=!1),null!=animationTime&&0!=Number.isInteger(animationTime)||(animationTime=600),null!=scrollToTargetOffset&&0!=Number.isInteger(scrollToTargetOffset)||(scrollToTargetOffset=0);var additionalParam="ajaxload=true",delimiterSign;delimiterSign=requestURL.indexOf("?")>0?"&":"?";var loadURL=requestURL+delimiterSign+additionalParam;1==disableAnyLMT&&$(".loadmethere").css({"pointer-events":"none",opacity:"0.25"}),0!=disableCustomElement&&$(disableCustomElement).css({"pointer-events":"none",opacity:"0.25"});var jqxhr=jQuery.get(loadURL,function(){if(!$("#"+targetContainer).length)return console.error("Unable to find target with ID: "+targetContainer),!1;var reponse=jQuery(jqxhr.responseText),reponseScript=reponse.filter("script");if(jQuery.each(reponseScript,function(val){eval(val.text)}),"in"==position)$("#"+targetContainer).slideUp(animationTime,function(){$("#"+targetContainer).html(reponse).slideDown(animationTime,function(){1==scrollToTarget&&$("html, body").animate({scrollTop:$("#"+targetContainer).offset().top-scrollToTargetOffset},"fast")})});else if("as"==position)1==scrollToTarget&&$("html, body").animate({scrollTop:$("#"+targetContainer).offset().top-scrollToTargetOffset},"fast"),$("#"+targetContainer).wrap('<div class="toDo-HideMe"></div>'),$(".toDo-HideMe").slideUp(animationTime,function(){$("#"+targetContainer).replaceWith(reponse)}),$(".toDo-HideMe").slideDown(animationTime,function(){for(var e=document.getElementsByClassName("toDo-HideMe");e.length;){for(var t=e[0].parentNode;e[0].firstChild;)t.insertBefore(e[0].firstChild,e[0]);t.removeChild(e[0])}});else if("before"==position)1==scrollToTarget&&$("html, body").animate({scrollTop:$("#"+targetContainer).offset().top-scrollToTargetOffset},"fast"),$(reponse).hide().insertBefore("#"+targetContainer).slideDown(animationTime,function(){});else if("prepend"==position)$(reponse).hide().prependTo("#"+targetContainer).slideDown(animationTime,function(){1==scrollToTarget&&$("html, body").animate({scrollTop:$("#"+targetContainer).offset().top-scrollToTargetOffset},"fast")});else if("append"==position){var height=$("#"+targetContainer).get(0).scrollHeight;$(reponse).hide().appendTo("#"+targetContainer).slideDown(animationTime,function(){1==scrollToTarget&&$("html, body").animate({scrollTop:$("#"+targetContainer).offset().top+height-scrollToTargetOffset},"fast")})}else"after"==position?$(reponse).hide().insertAfter("#"+targetContainer).slideDown(animationTime,function(){var e=$("#"+targetContainer).get(0).scrollHeight;1==scrollToTarget&&$("html, body").animate({scrollTop:$("#"+targetContainer).offset().top+e-scrollToTargetOffset},"fast")}):"modal"==position&&$("#"+targetContainer).html(reponse)}).fail(function(){alert("Error "+jqxhr.status+" "+jqxhr.statusText+"\nFailed to load: \n"+getURL)}).always(function(){1==disableAnyLMT&&$(".loadmethere").css({"pointer-events":"auto",opacity:"1"}),0!=disableCustomElement&&$(disableCustomElement).css({"pointer-events":"auto",opacity:"1"})})}function emptyTarget(e,t=600){if(null==e)return console.error("Missing: targetContainer"),!1;null==t&&(t=600),$("#"+e).slideUp(t,function(){$("#"+e).empty(),$("#"+e).slideDown(t)})}function deleteTarget(e,t=600){if(null==e)return console.error("Missing: targetContainer"),!1;null==t&&(t=600),$("#"+e).slideUp(t,function(){$("#"+e).replaceWith("")})}$(function(){$(document).on("click",".loadmethere",function(e){e.preventDefault();var t=$(this).attr("href"),n=$(this).attr("data-href"),o=$(this).attr("data-target"),r=$(this).attr("data-position"),i=$(this).attr("data-scrollto-target"),a=$(this).attr("data-disable-lmt"),l=$(this).attr("data-disable-element"),s=parseInt($(this).attr("data-animation-time")),f=$(this).attr("data-scrollto-offset");if(null==t&&(t=!1),null==n&&(n=!1),0==t&&0==n)return console.error("LMT: missing URL in href and/or data-href"),!1;if(null==o)return console.error("LMT: missing target"),!1;if(null==r&&(r="in"),i=null!=i&&"true"==i,a=null==a||"true"==a,null==l&&(l=!1),null!=s&&0!=Number.isInteger(s)||(s=600),null==f&&(f=0),0!=t&&0==n)history.pushState({},"",t),loadMeThere(t,o,r,i,l,a,s,f);else if(0==t&&0!=n)loadMeThere(n,o,r,i,l,a,s,f);else{if(0==t||0==n)return console.error("LMT: something went wrong..."),!1;history.pushState({},"",t),loadMeThere(n,o,r,i,l,a,s,f)}}).on("click",".emptytarget",function(e){e.preventDefault();var t=$(this).attr("data-target"),n=$(this).attr("data-animation-time");if(null==t)return console.error("LMT: missing target"),!1;null==n&&(n=600),emptyTarget(t,n)}).on("click",".deletetarget",function(e){e.preventDefault();var t=$(this).attr("data-target"),n=$(this).attr("data-animation-time");if(null==t)return console.error("LMT: missing target"),!1;null==n&&(n=600),deleteTarget(t,n)})});